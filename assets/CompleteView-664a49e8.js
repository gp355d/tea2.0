import{S as a}from"./sweetalert2.all-67e5945f.js";import{_ as m,r as f,o as i,c,a as s,b as v,w,F as y,C as b,t,B as x,d as g}from"./index-fc53acef.js";const{VITE_APP_URL:_,VITE_APP_PATH:h}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"leo533",BASE_URL:"/Vue3-week6/",MODE:"production",DEV:!1,PROD:!0},P={data(){return{order:{products:[],user:{}}}},methods:{getOrder(){const o=this.$route.params.order_id,r=this.$loading.show();this.$http.get(`${_}v2/api/${h}/order/${o}`).then(n=>{const{order:l}=n.data;this.order=l,r.hide()}).catch(n=>{a.fire({position:"top-end",icon:"error",title:n.response.data.message,showConfirmButton:!1,timer:1500})})},pay(){const o=this.$route.params.order_id,r=this.$loading.show();this.$http.post(`${_}v2/api/${h}/pay/${o}`).then(n=>{console.log(n),this.getOrder(),r.hide(),a.fire({position:"top-end",icon:"success",title:n.data.message,showConfirmButton:!1,timer:1500})})}},mounted(){this.getOrder()}},V={class:"container py-8"},k=s("h2",{class:"text-center text-primary fw-bold mb-7"},"訂購完成",-1),E={class:"row justify-content-center flex-column flex-md-row"},A={class:"col-md-9 mb-3 d-flex flex-column justify-content-between"},B={class:"row"},C=s("p",null,"您已經完成本次購物，當確認訂購資訊無誤及付款完成後，我們將立即出貨，感謝您訂購商品",-1),T={class:"col-md-6"},$={class:"border p-2 mb-2 mb-md-0 h-100"},I=s("h3",{class:"text-center fw-bold text-primary"},"訂單明細",-1),j=["src"],O={class:"col-3 fs-6 fs-md-4 mb-0 d-flex flex-nowrap"},D={class:"col-3 fs-6 fs-md-4 text-end"},L={class:"col-2 fs-6 fs-md-4 text-end"},R={class:"d-flex justify-content-between fs-5"},S=s("span",null,"總計",-1),U={class:"col-md-6 border py-2"},N={class:"row"},F={class:"col-12 mb-2"},H=s("h3",{class:"text-center text-primary fw-bold"},"顧客資訊",-1),M={class:"shadow-sm p-2"},q={class:""},X=s("span",null,"姓名:",-1),z={class:""},G=s("span",null,"電話:",-1),J={class:""},K=s("span",null,"Emai:",-1),Q={class:""},W=s("span",null,"地址:",-1),Y={class:""},Z=s("span",null,"備註:",-1),ss={class:"col-12"},ts=s("h3",{class:"text-center text-primary fw-bold"},"訂單資訊",-1),es={class:"shadow-sm p-2"},os={class:""},ns=s("span",null,"訂單狀態:",-1),rs={class:""},ds=s("span",null,"訂單編號:",-1),is={class:""},cs=s("span",null,"訂單金額:",-1),ls={class:"mb-2"},as=s("span",null,"訂單成立時間:",-1),_s={class:"d-flex justify-content-center"},hs={key:1};function ps(o,r,n,l,e,p){const u=f("router-link");return i(),c("div",V,[k,s("div",E,[s("div",A,[s("div",B,[C,s("div",T,[s("div",$,[v(u,{to:"/home"},{default:w(()=>[g("回首頁")]),_:1}),I,(i(!0),c(y,null,b(e.order.products,d=>(i(),c("div",{key:d.id,class:"d-flex align-items-center mb-4 shadow-sm p-2"},[s("img",{class:"col-4 object-fit img-fluid",src:d.product.imageUrl,alt:"",height:"50"},null,8,j),s("p",O,t(d.product.title),1),s("span",D,t(o.$filters.currency(d.product.price)),1),s("span",L,"X"+t(d.qty),1)]))),128)),s("div",R,[S,s("span",null,t(o.$filters.currency(e.order.total)),1)])])]),s("div",U,[s("div",N,[s("div",F,[H,s("div",M,[s("div",q,[X,s("span",null,t(e.order.user.name),1)]),s("div",z,[G,s("span",null,t(e.order.user.tel),1)]),s("div",J,[K,s("span",null,t(e.order.user.email),1)]),s("div",Q,[W,s("span",null,t(e.order.user.address),1)]),s("div",Y,[Z,s("span",null,t(e.order.message),1)])])]),s("div",ss,[ts,s("div",es,[s("div",os,[ns,s("span",null,t(e.order.is_paid?"付款完成":"尚未付款"),1)]),s("div",rs,[ds,s("span",null,t(e.order.id),1)]),s("div",is,[cs,s("span",null,t(o.$filters.currency(e.order.total)),1)]),s("div",ls,[as,s("span",null,t(o.$filters.date(e.order.create_at)),1)]),s("div",_s,[e.order.is_paid!==!0?(i(),c("button",{key:0,type:"button",class:"btn btn-primary",onClick:r[0]||(r[0]=x(()=>p.pay(),["prevent"]))},"前往付款")):(i(),c("div",hs))])])])])])])])])])}const fs=m(P,[["render",ps]]);export{fs as default};
