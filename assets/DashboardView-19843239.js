import{_ as v,r as u,o as i,c as h,a as e,b as o,w as c,D as _,H as k,F as g,e as b,d as n}from"./index-fc53acef.js";const f="/Vue3-week6/assets/slogo-c250d158.svg",{VITE_APP_URL:w}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"leo533",BASE_URL:"/Vue3-week6/",MODE:"production",DEV:!1,PROD:!0},V={data(){return{checkSuccess:!1}},methods:{logout(){document.cookie=`mytoken=; expires=${new Date};`,this.$router.push("/login")},checkLogin(){const l=document.cookie.replace(/(?:(?:^|.*;\s*)mytoken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=l;const s=this.$loading.show();this.$http.post(`${w}api/user/check`).then(t=>{t.data.success?(this.checkSuccess=!0,s.hide(),this.$router.push("/admin/products")):(alert(t.data.message),s.hide(),this.$router.push("/login"))}).catch(t=>{alert(t)})}},mounted(){this.checkLogin()}},x=b('<header class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap ps-3 shadow"><div class="col-md-3 col-lg-12 me-0"><a href="#"><img src="'+f+'" alt="" height="50"></a></div><button class="navbar-toggler position-absolute d-md-none" type="button" data-bs-toggle="collapse" data-bs-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="true" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="navbar-nav"><div class="nav-item text-nowrap"></div></div></header>',1),$={class:"container-fluid"},P={key:0,id:"sidebarMenu",class:"col-md-3 col-lg-2 d-md-block bg-light sidebar collapse"},y={class:"position-sticky pt-3"},E={class:"nav flex-column"},A=e("h2",null,"請選擇功能",-1),D={class:"nav-item"},S={class:"nav-item"},T={class:"nav-item"},B={class:"nav-item"},L={class:"nav-item"},N={class:"nav-item"};function C(l,s,t,M,r,d){const a=u("router-link"),m=u("router-view");return i(),h(g,null,[x,e("div",$,[r.checkSuccess?(i(),h("nav",P,[e("div",y,[e("ul",E,[A,e("li",D,[o(a,{class:"nav-link",to:"/admin/products"},{default:c(()=>[n("商品管理")]),_:1})]),e("li",S,[o(a,{class:"nav-link",to:"/admin/orders"},{default:c(()=>[n("訂單管理")]),_:1})]),e("li",T,[o(a,{class:"nav-link",to:"/admin/coupons"},{default:c(()=>[n("優惠券管理")]),_:1})]),e("li",B,[o(a,{class:"nav-link",to:"/admin/articles"},{default:c(()=>[n("文章管理")]),_:1})]),e("li",L,[o(a,{class:"nav-link",to:"/"},{default:c(()=>[n("回前台首頁")]),_:1})]),e("li",N,[e("a",{class:"nav-link",href:"#",onClick:s[0]||(s[0]=(...p)=>d.logout&&d.logout(...p))},"登出")])])])])):_("",!0),r.checkSuccess?(i(),k(m,{key:1})):_("",!0)])],64)}const I=v(V,[["render",C]]);export{I as default};
