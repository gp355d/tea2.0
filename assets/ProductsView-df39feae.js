import{_ as k,f as l,m as g,r as u,o as e,c as i,a as t,A as h,B as c,F as d,C as f,b,t as r,w as A,d as $,D as V}from"./index-fc53acef.js";import{p}from"./productStore-2c6f5e56.js";import{c as y}from"./cart-c07dfcd8.js";import{P as E}from"./PaginationView-8b80f5a3.js";import{S as T}from"./sweetalert2.all-67e5945f.js";import"./statusStore-d1ac195f.js";const{VITE_APP_URL:I,VITE_APP_PATH:S}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"leo533",BASE_URL:"/Vue3-week6/",MODE:"production",DEV:!1,PROD:!0},B={data(){return{product:[],pagination:{}}},methods:{...l(p,["getProductAll","getid"]),...l(y,["addToCart"]),getProducts(s=1){const n=this.$loading.show(),m=`${I}v2/api/${S}/products/?page=${s}&category=${this.category}`;this.$http.get(m).then(a=>{this.product=a.data.products,this.pagination=a.data.pagination,n.hide()}).catch(a=>{T.fire({position:"top-end",icon:"error",title:a.response.data.message,showConfirmButton:!1,timer:1500})})},...l(p,["addtoFollow","setCategory","getProductAll"])},watch:{category(){this.getProducts()}},computed:{...g(p,["followList","productsAll","category","categories"]),...g(y,["loadingItem"])},components:{Pagination:E},mounted(){this.getProducts(),this.getProductAll(),this.getid()}},L={class:"container py-8"},D={class:"row justify-content-center mb-0"},F=t("h2",{class:"text-center text-primary mb-7 fw-bold"},"茶品介紹",-1),N={class:"col-lg-3 mb-4 mb-md-0"},R={class:"list-group"},U={class:"list-unstyled"},O={class:"list-unstyled"},j=["onClick"],H={class:"col-lg-9 mb-4 mb-md-0"},M={class:"row mb-3"},z={class:"card border-0 shadow-sm rounded-3"},q={class:""},x=["src"],G={class:"card-body fw-bold text-primary p-5"},J={class:"badge rounded-pill bg-primary"},K={class:"card-title fs-4 lh-29 fw-bold noto-serif-font"},Q={class:"fs-5 lh-30 fw-bold mb-5 position-relative"},W=["onClick"],X={key:0,class:"position-absolute end-0 material-icons fs-1",style:{cursor:"pointer"}},Y={key:1,class:"position-absolute end-0 material-icons fs-1 text-primary",style:{cursor:"pointer"}},Z={class:"d-grid"},tt=["disabled","onClick"],ot={key:0,class:"fas fa-spinner fa-pulse"};function st(s,n,m,a,_,P){const v=u("router-link"),w=u("Pagination");return e(),i(d,null,[t("div",L,[t("div",D,[F,t("div",N,[t("ul",R,[t("li",U,[t("a",{href:"#",class:h(["list-group-item list-group-item-action noto-serif-font",{active:s.category===""}]),onClick:n[0]||(n[0]=c(o=>s.setCategory(""),["prevent"]))}," 全部商品 ",2)]),t("li",O,[(e(!0),i(d,null,f(s.categories,(o,C)=>(e(),i("a",{key:`${C}-${o}`,href:"#",class:h(["list-group-item list-group-item-action noto-serif-font",{active:s.category===o}]),onClick:c(et=>s.setCategory(o),["prevent"])},r(o),11,j))),128))])])]),t("div",H,[t("div",M,[(e(!0),i(d,null,f(_.product,o=>(e(),i("div",{class:"col-md-6 col-lg-4 mb-4 mb-md-3",key:o.id},[t("div",z,[t("div",q,[b(v,{to:`/product/${o.id}`},{default:A(()=>[t("img",{src:o.imageUrl,height:"250",class:"card-img-top object-fit mb-0",alt:"product-img"},null,8,x)]),_:2},1032,["to"]),t("div",G,[t("span",J,r(o.category),1),t("h5",K,r(o.title),1),t("div",Q,[t("a",{href:"#",onClick:c(()=>s.addtoFollow(o.id),["prevent"])},[s.followList.id.indexOf(o.id)===-1?(e(),i("span",X," favorite_border ")):(e(),i("span",Y," favorite "))],8,W),t("span",null,r(s.$filters.currency(o.price)),1)]),t("div",Z,[t("button",{disabled:s.loadingItem===o.id+"1",type:"button",class:"btn btn-outline-primary fw-normal",onClick:()=>s.addToCart(o.id,1)},[$(" 加入購物車 "),s.loadingItem===o.id+"1"?(e(),i("i",ot)):V("",!0)],8,tt)])])])])]))),128))])])])]),b(w,{pages:_.pagination,onEmitPages:P.getProducts},null,8,["pages","onEmitPages"])],64)}const dt=k(B,[["render",st]]);export{dt as default};
